{"version":3,"sources":["../../src/stores/DropdownStore.js"],"names":["DropdownStore","dispatcher","_isMessageDropdownOpen","_isRecentContextOpen","_targetRect","_contextPos","_message","_peer","isMessageDropdownOpen","rid","isRecentContextOpen","getMessage","getTargetRect","getContextPos","getPeer","__onDispatch","action","type","MESSAGE_DROPDOWN_SHOW","message","targetRect","__emitChange","MESSAGE_DROPDOWN_HIDE","RECENT_CONTEXT_MENU_SHOW","contextPos","peer","RECENT_CONTEXT_MENU_HIDE"],"mappings":";;;;AAIA;;AACA;;;;AACA;;;;;;;;+eANA;;;;IAQMA,a;;;AACJ,yBAAYC,UAAZ,EAAwB;AAAA;;AAAA,iDACtB,kBAAMA,UAAN,CADsB;;AAGtB,UAAKC,sBAAL,GAA8B,KAA9B;AACA,UAAKC,oBAAL,GAA4B,KAA5B;AACA,UAAKC,WAAL,GAAmB,EAAnB;AACA,UAAKC,WAAL,GAAmB,EAAnB;AACA,UAAKC,QAAL,GAAgB,EAAhB;AACA,UAAKC,KAAL,GAAa,EAAb;AARsB;AASvB;;0BAEDC,qB,kCAAsBC,G,EAAK;AACzB,QAAIA,QAAQ,KAAKH,QAAL,CAAcG,GAA1B,EAA+B;AAC7B,aAAO,KAAKP,sBAAZ;AACD,KAFD,MAEO;AACL,aAAO,KAAP;AACD;AACF,G;;0BAEDQ,mB,kCAAsB;AACpB,WAAO,KAAKP,oBAAZ;AACD,G;;0BAEDQ,U,yBAAa;AACX,WAAO,KAAKL,QAAZ;AACD,G;;0BAEDM,a,4BAAgB;AACd,WAAO,KAAKR,WAAZ;AACD,G;;0BAEDS,a,4BAAgB;AACd,WAAO,KAAKR,WAAZ;AACD,G;;0BAEDS,O,sBAAU;AACR,WAAO,KAAKP,KAAZ;AACD,G;;0BAEDQ,Y,yBAAaC,M,EAAQ;AACnB,YAAOA,OAAOC,IAAd;AACE,WAAK,+BAAYC,qBAAjB;AACE,aAAKhB,sBAAL,GAA8B,IAA9B;AACA,aAAKC,oBAAL,GAA4B,KAA5B;AACA,aAAKG,QAAL,GAAgBU,OAAOG,OAAvB;AACA,aAAKf,WAAL,GAAmBY,OAAOI,UAA1B;AACA,aAAKC,YAAL;AACA;AACF,WAAK,+BAAYC,qBAAjB;AACE,aAAKpB,sBAAL,GAA8B,KAA9B;AACA,aAAKmB,YAAL;AACA;;AAEF,WAAK,+BAAYE,wBAAjB;AACE,aAAKpB,oBAAL,GAA4B,IAA5B;AACA,aAAKD,sBAAL,GAA8B,KAA9B;AACA,aAAKG,WAAL,GAAmBW,OAAOQ,UAA1B;AACA,aAAKjB,KAAL,GAAaS,OAAOS,IAApB;AACA,aAAKJ,YAAL;AACA;AACF,WAAK,+BAAYK,wBAAjB;AACE,aAAKvB,oBAAL,GAA4B,KAA5B;AACA,aAAKkB,YAAL;AACA;AACF;AAxBF;AA0BD,G;;;;;kBAGY,IAAIrB,aAAJ,8B","file":"DropdownStore.js","sourcesContent":["/*\r\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport { Store } from 'flux/utils';\r\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\r\nimport { ActionTypes } from '../constants/ActorAppConstants';\r\n\r\nclass DropdownStore extends Store {\r\n  constructor(dispatcher) {\r\n    super(dispatcher);\r\n\r\n    this._isMessageDropdownOpen = false;\r\n    this._isRecentContextOpen = false;\r\n    this._targetRect = {};\r\n    this._contextPos = {}\r\n    this._message = {};\r\n    this._peer = {};\r\n  }\r\n\r\n  isMessageDropdownOpen(rid) {\r\n    if (rid === this._message.rid) {\r\n      return this._isMessageDropdownOpen;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isRecentContextOpen() {\r\n    return this._isRecentContextOpen;\r\n  }\r\n\r\n  getMessage() {\r\n    return this._message;\r\n  }\r\n\r\n  getTargetRect() {\r\n    return this._targetRect;\r\n  }\r\n\r\n  getContextPos() {\r\n    return this._contextPos;\r\n  }\r\n\r\n  getPeer() {\r\n    return this._peer;\r\n  }\r\n\r\n  __onDispatch(action) {\r\n    switch(action.type) {\r\n      case ActionTypes.MESSAGE_DROPDOWN_SHOW:\r\n        this._isMessageDropdownOpen = true;\r\n        this._isRecentContextOpen = false;\r\n        this._message = action.message;\r\n        this._targetRect = action.targetRect;\r\n        this.__emitChange();\r\n        break;\r\n      case ActionTypes.MESSAGE_DROPDOWN_HIDE:\r\n        this._isMessageDropdownOpen = false;\r\n        this.__emitChange();\r\n        break;\r\n\r\n      case ActionTypes.RECENT_CONTEXT_MENU_SHOW:\r\n        this._isRecentContextOpen = true;\r\n        this._isMessageDropdownOpen = false;\r\n        this._contextPos = action.contextPos;\r\n        this._peer = action.peer;\r\n        this.__emitChange();\r\n        break;\r\n      case ActionTypes.RECENT_CONTEXT_MENU_HIDE:\r\n        this._isRecentContextOpen = false;\r\n        this.__emitChange();\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n\r\nexport default new DropdownStore(Dispatcher);\r\n"]}