{"version":3,"sources":["../../src/stores/CallStore.js"],"names":["CallStore","getInitialState","isOpen","isFloating","id","peer","state","members","isMuted","isOutgoing","reduce","action","type","CALL_MODAL_OPEN","CALL_MODAL_HIDE","CALL_CHANGED","time","call","CALL_TIME_CHANGED","CALL_MUTE_TOGGLE","CALL_FLOAT_TOGGLE"],"mappings":";;;;;;AAIA;;AACA;;;;AACA;;;;;;;;+eANA;;;;IAQMA,S;;;;;;;;;sBACJC,e,8BAAkB;AAChB,WAAO;AACLC,cAAQ,KADH;AAELC,kBAAY,KAFP;AAGLC,UAAI,IAHC;AAILC,YAAM,IAJD;AAKLC,aAAO,IALF;AAMLC,eAAS,IANJ;AAOLC,eAAS,KAPJ;AAQLC,kBAAY;AARP,KAAP;AAUD,G;;sBAEDC,M,mBAAOJ,K,EAAOK,M,EAAQ;AACpB,YAAOA,OAAOC,IAAd;AACE,WAAK,+BAAYC,eAAjB;AACE,4BACKP,KADL;AAEEJ,kBAAQ,IAFV;AAGEE,cAAIO,OAAOP;AAHb;AAKF,WAAK,+BAAYU,eAAjB;AACE,eAAO,KAAKb,eAAL,EAAP;AACF,WAAK,+BAAYc,YAAjB;AACE,4BACKT,KADL;AAEEU,gBAAM,OAFR;AAGEX,gBAAMM,OAAOM,IAAP,CAAYZ,IAHpB;AAIEC,iBAAOK,OAAOM,IAAP,CAAYX,KAJrB;AAKEC,mBAASI,OAAOM,IAAP,CAAYV,OALvB;AAMEE,sBAAYE,OAAOM,IAAP,CAAYR;AAN1B;AAQF,WAAK,+BAAYS,iBAAjB;AACE,4BACKZ,KADL;AAEEU,gBAAML,OAAOK;AAFf;AAIF,WAAK,+BAAYG,gBAAjB;AACE,4BACKb,KADL;AAEEE,mBAAS,CAACF,MAAME;AAFlB;AAIF,WAAK,+BAAYY,iBAAjB;AACE,4BACKd,KADL;AAEEH,sBAAY,CAACG,MAAMH;AAFrB;AAIF;AACE,eAAOG,KAAP;AAlCJ;AAoCD,G;;;;;kBAGY,IAAIN,SAAJ,8B","file":"CallStore.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport { ReduceStore } from 'flux/utils';\r\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\r\nimport { ActionTypes } from '../constants/ActorAppConstants';\r\n\r\nclass CallStore extends ReduceStore {\r\n  getInitialState() {\r\n    return {\r\n      isOpen: false,\r\n      isFloating: false,\r\n      id: null,\r\n      peer: null,\r\n      state: null,\r\n      members: null,\r\n      isMuted: false,\r\n      isOutgoing: false\r\n    };\r\n  }\r\n\r\n  reduce(state, action) {\r\n    switch(action.type) {\r\n      case ActionTypes.CALL_MODAL_OPEN:\r\n        return {\r\n          ...state,\r\n          isOpen: true,\r\n          id: action.id\r\n        };\r\n      case ActionTypes.CALL_MODAL_HIDE:\r\n        return this.getInitialState();\r\n      case ActionTypes.CALL_CHANGED:\r\n        return {\r\n          ...state,\r\n          time: '00:00',\r\n          peer: action.call.peer,\r\n          state: action.call.state,\r\n          members: action.call.members,\r\n          isOutgoing: action.call.isOutgoing\r\n        };\r\n      case ActionTypes.CALL_TIME_CHANGED:\r\n        return {\r\n          ...state,\r\n          time: action.time\r\n        };\r\n      case ActionTypes.CALL_MUTE_TOGGLE:\r\n        return {\r\n          ...state,\r\n          isMuted: !state.isMuted\r\n        };\r\n      case ActionTypes.CALL_FLOAT_TOGGLE:\r\n        return {\r\n          ...state,\r\n          isFloating: !state.isFloating\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CallStore(Dispatcher);\r\n"]}