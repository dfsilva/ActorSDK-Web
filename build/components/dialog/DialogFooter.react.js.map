{"version":3,"sources":["../../../src/components/dialog/DialogFooter.react.js"],"names":["DialogFooter","props","context","dialog","delegate","components","TypingSection","typing","ComposeSection","compose","render","info","isMember","onUnblock","onStart","isBlocked","isBot","isStarted","contextTypes","object","isRequired","propTypes","bool","func","defaultProps"],"mappings":";;;;AAIA;;AACA;;;;AACA;;AAEA;;;;AACA;;;;;;;;;;+eATA;;;;IAWMA,Y;;;AAgBJ,wBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA,iDAC1B,sBAAMD,KAAN,EAAaC,OAAb,CAD0B;;AAAA,QAGlBC,MAHkB,GAGPD,QAAQE,QAAR,CAAiBC,UAHV,CAGlBF,MAHkB;;AAI1B,QAAIA,UAAU,CAAC,wBAAWA,MAAX,CAAf,EAAmC;AACjC,YAAKE,UAAL,GAAkB;AAChBC,uBAAeH,OAAOI,MAAP,2BADC;AAEhBC,wBAAgBL,OAAOM,OAAP;AAFA,OAAlB;AAID,KALD,MAKO;AACL,YAAKJ,UAAL,GAAkB;AAChBC,8CADgB;AAEhBE;AAFgB,OAAlB;AAID;AAdyB;AAe3B;;yBAEDE,M,qBAAS;AAAA,iBACwC,KAAKT,KAD7C;AAAA,QACCU,IADD,UACCA,IADD;AAAA,QACOC,QADP,UACOA,QADP;AAAA,QACiBC,SADjB,UACiBA,SADjB;AAAA,QAC4BC,OAD5B,UAC4BA,OAD5B;;AAEP,QAAI,CAACF,QAAL,EAAe;AACb,aACE;AAAA;AAAA,UAAQ,WAAU,qCAAlB;AACE,qEAAkB,IAAG,mBAArB;AADF,OADF;AAKD;;AAED,QAAID,KAAKI,SAAT,EAAoB;AAClB,aACE;AAAA;AAAA,UAAQ,WAAU,qCAAlB;AACE;AAAA;AAAA,YAAQ,WAAU,qBAAlB,EAAwC,SAASF,SAAjD;AACE,uEAAkB,IAAG,iBAArB;AADF;AADF,OADF;AAOD;;AAED,QAAIF,KAAKK,KAAL,IAAc,CAACL,KAAKM,SAAxB,EAAmC;AACjC,aACE;AAAA;AAAA,UAAQ,WAAU,qCAAlB;AACE;AAAA;AAAA,YAAQ,WAAU,qBAAlB,EAAwC,SAASH,OAAjD;AACE,uEAAkB,IAAG,eAArB;AADF;AADF,OADF;AAOD;;AA5BM,sBA8BmC,KAAKT,UA9BxC;AAAA,QA8BCC,aA9BD,eA8BCA,aA9BD;AAAA,QA8BgBE,cA9BhB,eA8BgBA,cA9BhB;;;AAgCP,WACE;AAAA;AAAA,QAAQ,WAAU,cAAlB;AACE,oCAAC,aAAD,OADF;AAEE,oCAAC,cAAD;AAFF,KADF;AAMD,G;;;;;AAvEGR,Y,CACGkB,Y,GAAe;AACpBd,YAAU,iBAAUe,MAAV,CAAiBC;AADP,C;AADlBpB,Y,CAKGqB,S,GAAY;AACjBV,QAAM,iBAAUQ,MAAV,CAAiBC,UADN;AAEjBR,YAAU,iBAAUU,IAAV,CAAeF,UAFR;AAGjBP,aAAW,iBAAUU,IAAV,CAAeH,UAHT;AAIjBN,WAAS,iBAAUS,IAAV,CAAeH;AAJP,C;AALfpB,Y,CAYGwB,Y,GAAe;AACpBT,aAAW;AADS,C;kBA8DTf,Y","file":"DialogFooter.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport { isFunction } from 'lodash';\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nimport DefaultTyping from './TypingSection.react';\r\nimport DefaultCompose from './ComposeSection.react';\r\n\r\nclass DialogFooter extends Component {\r\n  static contextTypes = {\r\n    delegate: PropTypes.object.isRequired\r\n  };\r\n\r\n  static propTypes = {\r\n    info: PropTypes.object.isRequired,\r\n    isMember: PropTypes.bool.isRequired,\r\n    onUnblock: PropTypes.func.isRequired,\r\n    onStart: PropTypes.func.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    isBlocked: false\r\n  };\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { dialog } = context.delegate.components;\r\n    if (dialog && !isFunction(dialog)) {\r\n      this.components = {\r\n        TypingSection: dialog.typing || DefaultTyping,\r\n        ComposeSection: dialog.compose || DefaultCompose\r\n      };\r\n    } else {\r\n      this.components = {\r\n        TypingSection: DefaultTyping,\r\n        ComposeSection: DefaultCompose\r\n      };\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { info, isMember, onUnblock, onStart } = this.props;\r\n    if (!isMember) {\r\n      return (\r\n        <footer className=\"chat__footer chat__footer--disabled\">\r\n          <FormattedMessage id=\"compose.notMember\" />\r\n        </footer>\r\n      );\r\n    }\r\n\r\n    if (info.isBlocked) {\r\n      return (\r\n        <footer className=\"chat__footer chat__footer--disabled\">\r\n          <button className=\"button button--flat\" onClick={onUnblock}>\r\n            <FormattedMessage id=\"compose.unblock\" />\r\n          </button>\r\n        </footer>\r\n      );\r\n    }\r\n\r\n    if (info.isBot && !info.isStarted) {\r\n      return (\r\n        <footer className=\"chat__footer chat__footer--disabled\">\r\n          <button className=\"button button--flat\" onClick={onStart}>\r\n            <FormattedMessage id=\"compose.start\" />\r\n          </button>\r\n        </footer>\r\n      );\r\n    }\r\n\r\n    const { TypingSection, ComposeSection } = this.components;\r\n\r\n    return (\r\n      <footer className=\"chat__footer\">\r\n        <TypingSection />\r\n        <ComposeSection />\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogFooter;\r\n"]}