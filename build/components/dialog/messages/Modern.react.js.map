{"version":3,"sources":["../../../../src/components/dialog/messages/Modern.react.js"],"names":["ColorTypes","HEX","NAMED","getColor","color","type","hex","name","Field","props","render","title","value","isShort","fieldClassName","propTypes","string","bool","Attach","paragraphStyle","titleUrl","text","fields","attachmentClassName","showParagraph","attachmentStyles","borderColor","backgroundColor","bgColor","attachmentFields","field","index","object","array","TextModern","attaches","className","modernClassName","modernStyles","modernAttachments","attachment"],"mappings":"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","file":"Modern.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport { map } from 'lodash';\r\nimport React, { Component, PropTypes } from 'react';\r\nimport classnames from 'classnames';\r\n\r\nconst ColorTypes = {\r\n  HEX: 'hex',\r\n  NAMED: 'named'\r\n};\r\n\r\n/**\r\n * @param color\r\n * @returns {string | null} Color value\r\n */\r\nfunction getColor(color) {\r\n  if (color) {\r\n    switch (color.type) {\r\n      case ColorTypes.HEX:\r\n        return color.hex;\r\n      case ColorTypes.NAMED:\r\n        return color.name;\r\n      default:\r\n        return null;\r\n    }\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Class that represents component for display modern text message attachment field\r\n * @param {String} title Field title\r\n * @param {String} value Field value\r\n * @param {Boolean} isShort Display short version of field\r\n */\r\nclass Field extends Component {\r\n  static propTypes = {\r\n    title: PropTypes.string,\r\n    value: PropTypes.string,\r\n    isShort: PropTypes.bool\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { title, value, isShort } = this.props;\r\n\r\n    const fieldClassName = classnames('field', {\r\n      'field--short': isShort,\r\n      'col-xs-6': isShort,\r\n      'col-xs-12': !isShort\r\n    });\r\n\r\n    return (\r\n      <div className={fieldClassName}>\r\n        {title ? <div className=\"field__title\">{title}</div> : null}\r\n        {value ? <div className=\"field__value\">{value}</div> : null}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Class that represents component for display modern text message attachments\r\n * @param {Array} fields Array of objects contains attachment fields\r\n * @param {Object} paragraphStyle Contains attachment styles\r\n * @param {String} text Attachment text\r\n * @param {String} title Attachment title\r\n * @param {String} titleUrl Attachment title url\r\n */\r\nclass Attach extends Component {\r\n  static propTypes = {\r\n    paragraphStyle: PropTypes.object,\r\n    text: PropTypes.string,\r\n    title: PropTypes.string,\r\n    titleUrl: PropTypes.string,\r\n    fields: PropTypes.array\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { paragraphStyle, titleUrl, title, text, fields } = this.props;\r\n\r\n    const attachmentClassName = classnames('attachment', {\r\n      'attachment--paragraph': paragraphStyle.showParagraph\r\n    });\r\n\r\n    const attachmentStyles = {\r\n      borderColor: getColor(paragraphStyle.color) || 'transparent',\r\n      backgroundColor: getColor(paragraphStyle.bgColor) || 'transparent'\r\n    };\r\n\r\n    const attachmentFields = map(fields, (field, index) => <Field key={index} {...field}/>);\r\n\r\n    return (\r\n      <div className={attachmentClassName} style={attachmentStyles}>\r\n        <div className=\"attachment__title\">\r\n          {\r\n            titleUrl\r\n              ? <a href={titleUrl}>{title}</a>\r\n              : title\r\n          }\r\n        </div>\r\n        {text ? text : null}\r\n        {attachmentFields ? <div className=\"attachment_fields row\">{attachmentFields}</div> : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Class that represents component for display modern text messages content\r\n * @param {Array} attaches Array of objects contains modern message attached paragraphs\r\n * @param {Object} paragraphStyle Contains message styles\r\n * @param {String} text Message text\r\n * @param {String} className Component class name\r\n */\r\nclass TextModern extends Component {\r\n  static propTypes = {\r\n    attaches: PropTypes.array,\r\n    paragraphStyle: PropTypes.object,\r\n    text: PropTypes.string,\r\n    className: PropTypes.string\r\n  };\r\n\r\n  render() {\r\n    const { paragraphStyle, attaches, text, className } = this.props;\r\n    const modernClassName = classnames('modern', {\r\n      'modern--paragraph': paragraphStyle.showParagraph\r\n    });\r\n\r\n    const modernStyles = {\r\n      borderColor: getColor(paragraphStyle.color) || 'transparent',\r\n      backgroundColor: getColor(paragraphStyle.bgColor) || 'transparent'\r\n    };\r\n\r\n    const modernAttachments = map(attaches, (attachment, index) => <Attach key={index} {...attachment}/>);\r\n\r\n    return (\r\n      <div className={className}>\r\n        <div className={modernClassName} style={modernStyles}>\r\n          {text ? <p>{text}</p> : null}\r\n          {modernAttachments}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TextModern;\r\n"]}