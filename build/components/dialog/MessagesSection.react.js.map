{"version":3,"sources":["../../../src/components/dialog/MessagesSection.react.js"],"names":["MessagesSection","getStores","calculateState","getState","props","onEdit","bind","onSelect","onLoadMore","message","text","peer","endEdit","rid","toggleSelected","loadMoreMessages","render","uid","isMember","state","propTypes","number","isRequired","object","bool","create"],"mappings":";;;;AAIA;;;;AACA;;AAEA;;;;AACA;;;;AAEA;;;;AAEA;;;;;;;;;;+eAZA;;;;IAcMA,e;;;kBAOGC,S,wBAAY;AACjB,WAAO,wBAAP;AACD,G;;kBAEMC,c,6BAAiB;AACtB,WAAO,uBAAaC,QAAb,EAAP;AACD,G;;AAED,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,OAAd;AACA,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcD,IAAd,OAAhB;AACA,UAAKE,UAAL,GAAkB,MAAKA,UAAL,CAAgBF,IAAhB,OAAlB;AALiB;AAMlB;;4BAEDD,M,mBAAOI,O,EAASC,I,EAAM;AAAA,QACZC,IADY,GACH,KAAKP,KADF,CACZO,IADY;;AAEpB,oCAAsBC,OAAtB,CAA8BD,IAA9B,EAAoCF,OAApC,EAA6CC,IAA7C;AACD,G;;4BAEDH,Q,qBAASM,G,EAAK;AACZ,oCAAsBC,cAAtB,CAAqCD,GAArC;AACD,G;;4BAEDL,U,yBAAa;AACX,mCAAqBO,gBAArB,CAAsC,KAAKX,KAAL,CAAWO,IAAjD;AACD,G;;4BAEDK,M,qBAAS;AAAA,iBACyB,KAAKZ,KAD9B;AAAA,QACCa,GADD,UACCA,GADD;AAAA,QACMN,IADN,UACMA,IADN;AAAA,QACYO,QADZ,UACYA,QADZ;;;AAGP,WACE;AACE,WAAKD,GADP;AAEE,YAAMN,IAFR;AAGE,gBAAU,KAAKQ,KAHjB;AAIE,gBAAUD,QAJZ;AAKE,gBAAU,KAAKX,QALjB;AAME,kBAAY,KAAKC,UANnB;AAOE,cAAQ,KAAKH;AAPf,MADF;AAWD,G;;;;;AAlDGL,e,CACGoB,S,GAAY;AACjBH,OAAK,iBAAUI,MAAV,CAAiBC,UADL;AAEjBX,QAAM,iBAAUY,MAAV,CAAiBD,UAFN;AAGjBJ,YAAU,iBAAUM,IAAV,CAAeF;AAHR,C;kBAoDN,iBAAUG,MAAV,CAAiBzB,eAAjB,C","file":"MessagesSection.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { Container } from 'flux/utils';\r\n\r\nimport DialogActionCreators from '../../actions/DialogActionCreators';\r\nimport MessageActionCreators from '../../actions/MessageActionCreators';\r\n\r\nimport MessageStore from '../../stores/MessageStore';\r\n\r\nimport MessagesList from './MessagesList.react';\r\n\r\nclass MessagesSection extends Component {\r\n  static propTypes = {\r\n    uid: PropTypes.number.isRequired,\r\n    peer: PropTypes.object.isRequired,\r\n    isMember: PropTypes.bool.isRequired\r\n  };\r\n\r\n  static getStores() {\r\n    return [MessageStore];\r\n  }\r\n\r\n  static calculateState() {\r\n    return MessageStore.getState();\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onEdit = this.onEdit.bind(this);\r\n    this.onSelect = this.onSelect.bind(this);\r\n    this.onLoadMore = this.onLoadMore.bind(this);\r\n  }\r\n\r\n  onEdit(message, text) {\r\n    const { peer } = this.props;\r\n    MessageActionCreators.endEdit(peer, message, text);\r\n  }\r\n\r\n  onSelect(rid) {\r\n    MessageActionCreators.toggleSelected(rid);\r\n  }\r\n\r\n  onLoadMore() {\r\n    DialogActionCreators.loadMoreMessages(this.props.peer);\r\n  }\r\n\r\n  render() {\r\n    const { uid, peer, isMember } = this.props;\r\n\r\n    return (\r\n      <MessagesList\r\n        uid={uid}\r\n        peer={peer}\r\n        messages={this.state}\r\n        isMember={isMember}\r\n        onSelect={this.onSelect}\r\n        onLoadMore={this.onLoadMore}\r\n        onEdit={this.onEdit}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container.create(MessagesSection);\r\n"]}