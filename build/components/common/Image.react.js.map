{"version":3,"sources":["../../../src/components/common/Image.react.js"],"names":["Image","props","state","isLoading","src","then","setState","render","propTypes","string","isRequired","width","number","height","onLoad","func","onError","onClick"],"mappings":";;;;;;AAIA;;;;AAEA;;;;;;;;;;+eANA;;;;IAQMA,K;;;AAUJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,KAAL,GAAa;AACXC,iBAAW;AADA,KAAb;;AAIA,gCAAaF,MAAMG,GAAnB,EAAwBC,IAAxB,CAA6B,UAACD,GAAD,EAAS;AACpC,YAAKE,QAAL,CAAc;AACZF,gBADY;AAEZD,mBAAW;AAFC,OAAd;AAID,KALD;AAPiB;AAalB;;kBAEDI,M,qBAAS;AAAA,iBACoB,KAAKL,KADzB;AAAA,QACCC,SADD,UACCA,SADD;AAAA,QACYC,GADZ,UACYA,GADZ;;AAEP,QAAID,SAAJ,EAAe,OAAO,IAAP;;AAEf,WACE,kDAAS,KAAKF,KAAd,IAAqB,KAAKG,GAA1B,IADF;AAGD,G;;;;;AAhCGJ,K,CACGQ,S,GAAY;AACjBJ,OAAK,iBAAUK,MAAV,CAAiBC,UADL;AAEjBC,SAAO,iBAAUC,MAFA;AAGjBC,UAAQ,iBAAUD,MAHD;AAIjBE,UAAQ,iBAAUC,IAJD;AAKjBC,WAAS,iBAAUD,IALF;AAMjBE,WAAS,iBAAUF;AANF,C;kBAkCNf,K","file":"Image.react.js","sourcesContent":["/*\r\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\n\r\nimport convertImage from '../../utils/convertImage';\r\n\r\nclass Image extends Component {\r\n  static propTypes = {\r\n    src: PropTypes.string.isRequired,\r\n    width: PropTypes.number,\r\n    height: PropTypes.number,\r\n    onLoad: PropTypes.func,\r\n    onError: PropTypes.func,\r\n    onClick: PropTypes.func\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLoading: true\r\n    };\r\n\r\n    convertImage(props.src).then((src) => {\r\n      this.setState({\r\n        src,\r\n        isLoading: false\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, src } = this.state;\r\n    if (isLoading) return null;\r\n\r\n    return (\r\n      <img {...this.props} src={src} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Image;\r\n"]}