{"version":3,"sources":["../../../src/components/common/Scroller.react.js"],"names":["Scroller","props","onResize","bind","onReference","shouldComponentUpdate","nextProps","children","componentDidMount","onUpdate","window","addEventListener","componentWillUnmount","removeEventListener","componentDidUpdate","node","container","getDimensions","scrollTop","scrollHeight","offsetHeight","getBoundingClientRect","render","className","onScroll","scrollTo","offset","scrollToBottom","scrollToNode","Math","min","offsetTop","propTypes","string","isRequired","func","defaultProps"],"mappings":";;;;AAIA;;;;AACA;;;;AACA;;;;;;;;;;+eANA;;;;IAQMA,Q;;;AAeJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,OAAhB;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBD,IAAjB,OAAnB;AAJiB;AAKlB;;qBAEDE,qB,kCAAsBC,S,EAAW;AAC/B,WAAOA,UAAUC,QAAV,KAAuB,KAAKN,KAAL,CAAWM,QAAzC;AACD,G;;qBAEDC,iB,gCAAoB;AAClB,SAAKP,KAAL,CAAWQ,QAAX;AACAC,WAAOC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKT,QAAvC,EAAiD,KAAjD;AACD,G;;qBAEDU,oB,mCAAuB;AACrBF,WAAOG,mBAAP,CAA2B,QAA3B,EAAqC,KAAKX,QAA1C,EAAoD,KAApD;AACD,G;;qBAEDY,kB,iCAAqB;AACnB,SAAKb,KAAL,CAAWQ,QAAX;AACD,G;;qBAEDP,Q,uBAAW;AACT,SAAKD,KAAL,CAAWC,QAAX;AACD,G;;qBAEDE,W,wBAAYW,I,EAAM;AAChB,SAAKC,SAAL,GAAiBD,IAAjB;AACD,G;;qBAEDE,a,4BAAgB;AACd,WAAO;AACLC,iBAAW,KAAKF,SAAL,CAAeE,SADrB;AAELC,oBAAc,KAAKH,SAAL,CAAeG,YAFxB;AAGLC,oBAAc,KAAKJ,SAAL,CAAeI;AAHxB,KAAP;AAKD,G;;qBAEDC,qB,oCAAwB;AACtB,WAAO,KAAKL,SAAL,CAAeK,qBAAf,EAAP;AACD,G;;qBAEDC,M,qBAAS;AACP,QAAMC,YAAY,0BAAW,qBAAX,EAAkC,KAAKtB,KAAL,CAAWsB,SAA7C,CAAlB;;AAEA,WACE;AAAA;AAAA,QAAK,WAAU,mBAAf;AACE;AAAA;AAAA,UAAK,WAAWA,SAAhB,EAA2B,KAAK,KAAKnB,WAArC,EAAkD,UAAU,KAAKH,KAAL,CAAWuB,QAAvE;AACG,aAAKvB,KAAL,CAAWM;AADd;AADF,KADF;AAOD,G;;qBAEDkB,Q,qBAASC,M,EAAQ;AACf,SAAKV,SAAL,CAAeE,SAAf,GAA2BQ,MAA3B;AACD,G;;qBAEDC,c,6BAAiB;AACf,SAAKX,SAAL,CAAeE,SAAf,GAA2B,KAAKF,SAAL,CAAeG,YAA1C;AACD,G;;qBAEDS,Y,yBAAab,I,EAAM;AACjB,SAAKU,QAAL,CAAcI,KAAKC,GAAL,CAASf,KAAKgB,SAAd,EAAyB,KAAKf,SAAL,CAAeG,YAAxC,CAAd;AACD,G;;;;;AAjFGnB,Q,CACGgC,S,GAAY;AACjBT,aAAW,iBAAUU,MADJ;AAEjB1B,YAAU,iBAAUQ,IAAV,CAAemB,UAFR;AAGjBzB,YAAU,iBAAU0B,IAAV,CAAeD,UAHR;AAIjBV,YAAU,iBAAUW,IAAV,CAAeD,UAJR;AAKjBhC,YAAU,iBAAUiC,IAAV,CAAeD;AALR,C;AADflC,Q,CASGoC,Y,GAAe;AACpB3B,0BADoB;AAEpBe,0BAFoB;AAGpBtB;AAHoB,C;kBA2ETF,Q","file":"Scroller.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport classNames from 'classnames';\r\nimport noop from 'lodash/noop';\r\n\r\nclass Scroller extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    children: PropTypes.node.isRequired,\r\n    onUpdate: PropTypes.func.isRequired,\r\n    onScroll: PropTypes.func.isRequired,\r\n    onResize: PropTypes.func.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    onUpdate: noop,\r\n    onScroll: noop,\r\n    onResize: noop\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onResize = this.onResize.bind(this);\r\n    this.onReference = this.onReference.bind(this);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    return nextProps.children !== this.props.children;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.onUpdate();\r\n    window.addEventListener('resize', this.onResize, false);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.onResize, false);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.props.onUpdate();\r\n  }\r\n\r\n  onResize() {\r\n    this.props.onResize();\r\n  }\r\n\r\n  onReference(node) {\r\n    this.container = node;\r\n  }\r\n\r\n  getDimensions() {\r\n    return {\r\n      scrollTop: this.container.scrollTop,\r\n      scrollHeight: this.container.scrollHeight,\r\n      offsetHeight: this.container.offsetHeight\r\n    };\r\n  }\r\n\r\n  getBoundingClientRect() {\r\n    return this.container.getBoundingClientRect();\r\n  }\r\n\r\n  render() {\r\n    const className = classNames('scroller__container', this.props.className);\r\n\r\n    return (\r\n      <div className=\"scroller__wrapper\">\r\n        <div className={className} ref={this.onReference} onScroll={this.props.onScroll}>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  scrollTo(offset) {\r\n    this.container.scrollTop = offset;\r\n  }\r\n\r\n  scrollToBottom() {\r\n    this.container.scrollTop = this.container.scrollHeight;\r\n  }\r\n\r\n  scrollToNode(node) {\r\n    this.scrollTo(Math.min(node.offsetTop, this.container.scrollHeight));\r\n  }\r\n}\r\n\r\nexport default Scroller;\r\n"]}