{"version":3,"sources":["../../../src/components/common/AvatarItem.react.js"],"names":["AvatarSizes","tiny","small","normal","medium","large","big","huge","AvatarItem","shouldComponentUpdate","prevProps","image","props","placeholder","title","size","className","getFirstChar","emojiFirstChar","length","match","render","onClick","imgSize","propTypes","string","isRequired","oneOf","Object","keys","func","defaultProps"],"mappings":";;;;AAIA;;;;AACA;;;;;;;;;;+eALA;;;;AAOA,IAAMA,cAAc;AAClBC,QAAM,EADY;AAElBC,SAAO,EAFW;AAGlBC,UAAQ,EAHU;AAIlBC,UAAQ,EAJU;AAKlBC,SAAO,EALW;AAMlBC,OAAK,GANa;AAOlBC,QAAM;AAPY,CAApB;;IAUMC,U;;;;;;;;;uBAcJC,qB,kCAAsBC,S,EAAW;AAC/B,WAAOA,UAAUC,KAAV,KAAoB,KAAKC,KAAL,CAAWD,KAA/B,IACAD,UAAUG,WAAV,KAA0B,KAAKD,KAAL,CAAWC,WADrC,IAEAH,UAAUI,KAAV,KAAoB,KAAKF,KAAL,CAAWE,KAF/B,IAGAJ,UAAUK,IAAV,KAAmB,KAAKH,KAAL,CAAWG,IAH9B,IAIAL,UAAUM,SAAV,KAAwB,KAAKJ,KAAL,CAAWI,SAJ1C;AAKD,G;;uBAEDC,Y,2BAAe;AAAA,QACLH,KADK,GACK,KAAKF,KADV,CACLE,KADK;;AAEb,QAAMI,iBAAiB,kCAAvB;;AAEA,QAAIJ,MAAMK,MAAN,IAAgB,CAApB,EAAuB;AACrB,aAAO,GAAP;AACD;;AAED,WAAOL,MAAM,CAAN,EAASM,KAAT,CAAeF,cAAf,IAAiC,GAAjC,GAAuCJ,MAAM,CAAN,CAA9C;AACD,G;;uBAEDO,M,qBAAS;AAAA,iBAC8C,KAAKT,KADnD;AAAA,QACCD,KADD,UACCA,KADD;AAAA,QACQE,WADR,UACQA,WADR;AAAA,QACqBC,KADrB,UACqBA,KADrB;AAAA,QAC4BC,IAD5B,UAC4BA,IAD5B;AAAA,QACkCO,OADlC,UACkCA,OADlC;;;AAGP,QAAIX,KAAJ,EAAW;AACT,UAAMK,aAAY,0BAChB,eADgB,EAEhB,EAAE,qBAAqBM,OAAvB,EAFgB,EAGhB,KAAKV,KAAL,CAAWI,SAHK,CAAlB;;AAMA,UAAMO,UAAUvB,YAAYe,IAAZ,CAAhB;;AAEA,aACE;AACE,mBAAWC,UADb;AAEE,aAAKL,KAFP;AAGE,eAAOY,OAHT;AAIE,gBAAQA,OAJV;AAKE,aAAKT,KALP;AAME,iBAASQ;AANX,QADF;AAUD;;AAED,QAAMN,YAAY,0BAChB,qBADgB,4BAEQD,IAFR,4BAGQF,WAHR,EAIhB,KAAKD,KAAL,CAAWI,SAJK,EAKhB,EAAE,qBAAqBM,OAAvB,EALgB,CAAlB;;AAQA,WACE;AAAA;AAAA,QAAK,WAAWN,SAAhB,EAA2B,SAASM,OAApC,EAA6C,OAAOR,KAApD;AACG,WAAKG,YAAL;AADH,KADF;AAKD,G;;;;;AAtEGT,U,CACGgB,S,GAAY;AACjBb,SAAO,iBAAUc,MADA;AAEjBZ,eAAa,iBAAUY,MAAV,CAAiBC,UAFb;AAGjBZ,SAAO,iBAAUW,MAAV,CAAiBC,UAHP;AAIjBX,QAAM,iBAAUY,KAAV,CAAgBC,OAAOC,IAAP,CAAY7B,WAAZ,CAAhB,EAA0C0B,UAJ/B;AAKjBV,aAAW,iBAAUS,MALJ;AAMjBH,WAAS,iBAAUQ;AANF,C;AADftB,U,CAUGuB,Y,GAAe;AACpBhB,QAAM;AADc,C;kBA+DTP,U","file":"AvatarItem.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nconst AvatarSizes = {\r\n  tiny: 24,\r\n  small: 32,\r\n  normal: 36,\r\n  medium: 44,\r\n  large: 60,\r\n  big: 120,\r\n  huge: 200\r\n};\r\n\r\nclass AvatarItem extends Component {\r\n  static propTypes = {\r\n    image: PropTypes.string,\r\n    placeholder: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    size: PropTypes.oneOf(Object.keys(AvatarSizes)).isRequired,\r\n    className: PropTypes.string,\r\n    onClick: PropTypes.func\r\n  };\r\n\r\n  static defaultProps = {\r\n    size: 'normal'\r\n  };\r\n\r\n  shouldComponentUpdate(prevProps) {\r\n    return prevProps.image !== this.props.image ||\r\n           prevProps.placeholder !== this.props.placeholder ||\r\n           prevProps.title !== this.props.title ||\r\n           prevProps.size !== this.props.size ||\r\n           prevProps.className !== this.props.className;\r\n  }\r\n\r\n  getFirstChar() {\r\n    const { title } = this.props;\r\n    const emojiFirstChar = /([\\uE000-\\uF8FF]|\\uD83C|\\uD83D)/g;\r\n\r\n    if (title.length == 0) {\r\n      return '#';\r\n    }\r\n\r\n    return title[0].match(emojiFirstChar) ? '#' : title[0];\r\n  }\r\n\r\n  render() {\r\n    const { image, placeholder, title, size, onClick } = this.props;\r\n\r\n    if (image) {\r\n      const className = classNames(\r\n        'avatar__image',\r\n        { 'avatar--clickable': onClick },\r\n        this.props.className\r\n      );\r\n\r\n      const imgSize = AvatarSizes[size];\r\n\r\n      return (\r\n        <img\r\n          className={className}\r\n          src={image}\r\n          width={imgSize}\r\n          height={imgSize}\r\n          alt={title}\r\n          onClick={onClick}\r\n        />\r\n      );\r\n    }\r\n\r\n    const className = classNames(\r\n      'avatar__placeholder',\r\n      `avatar__placeholder--${size}`,\r\n      `avatar__placeholder--${placeholder}`,\r\n      this.props.className,\r\n      { 'avatar--clickable': onClick }\r\n    );\r\n\r\n    return (\r\n      <div className={className} onClick={onClick} title={title}>\r\n        {this.getFirstChar()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AvatarItem;\r\n"]}