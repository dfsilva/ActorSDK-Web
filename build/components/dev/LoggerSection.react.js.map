{"version":3,"sources":["../../../src/components/dev/LoggerSection.react.js"],"names":["LoggerSection","getStores","calculateState","isOpen","logs","getLogs","length","onClose","renderLogs","result","state","i","push","render","create"],"mappings":";;;;AAIA;;;;AACA;;AAEA;;;;AACA;;AAEA;;;;AACA;;;;AACA;;;;;;;;;;+eAZA;;;;IAcMA,a;;;;;;;;;gBACGC,S,wBAAY;AACjB,WAAO,uBAAP;AACD,G;;gBAEMC,c,6BAAiB;AACtB,QAAMC,SAAS,sBAAYA,MAAZ,EAAf;AACA,QAAI,CAACA,MAAL,EAAa;AACX,aAAO,EAAEA,QAAQ,KAAV,EAAP;AACD;;AAED,QAAMC,OAAO,sBAAYC,OAAZ,EAAb;AACA,WAAO;AACLF,oBADK;AAELC,gBAFK;AAGLE,cAAQF,KAAKE;AAHR,KAAP;AAKD,G;;0BAEDC,O,sBAAU;AACR;AACD,G;;0BAEDC,U,yBAAa;AACX,QAAMC,SAAS,EAAf;;AADW,QAGHL,IAHG,GAGM,KAAKM,KAHX,CAGHN,IAHG;;AAIX,SAAK,IAAIO,IAAIP,KAAKE,MAAL,GAAc,CAA3B,EAA8BK,KAAK,CAAnC,EAAsCA,GAAtC,EAA2C;AACzCF,aAAOG,IAAP,CACE,qDAAW,MAAMR,KAAKO,CAAL,CAAjB,EAA0B,KAAKA,CAA/B,GADF;AAGD;;AAED,WAAOF,MAAP;AACD,G;;0BAEDI,M,qBAAS;AACP,QAAI,CAAC,KAAKH,KAAL,CAAWP,MAAhB,EAAwB;AACtB,aAAO,2CAAS,WAAU,iBAAnB,GAAP;AACD;;AAED,WACE;AAAA;AAAA,QAAS,WAAU,iCAAnB;AACE;AAAA;AAAA,UAAK,WAAU,6BAAf;AACE;AAAA;AAAA,YAAK,WAAU,kBAAf;AACE;AAAA;AAAA,cAAQ,WAAU,qBAAlB,EAAwC,MAAK,QAA7C,EAAsD,SAAS,KAAKI,OAApE;AACE;AAAA;AAAA,gBAAG,WAAU,gBAAb;AAAA;AAAA;AADF;AADF,SADF;AAME,mEANF;AAOE;AAAA;AAAA;AACE;AAAA;AAAA,cAAK,WAAU,mBAAf;AACG,iBAAKC,UAAL;AADH;AADF;AAPF;AADF,KADF;AAiBD,G;;;;;kBAGY,iBAAUM,MAAV,CAAiBd,aAAjB,C","file":"LoggerSection.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { Container } from 'flux/utils';\r\n\r\nimport LoggerStore from '../../stores/LoggerStore';\r\nimport { loggerToggle } from '../../actions/LoggerActionCreators';\r\n\r\nimport Scrollbar from '../common/Scrollbar.react';\r\nimport LoggerFilter from './LoggerFilter.react';\r\nimport LoggerRow from './LoggerRow.react';\r\n\r\nclass LoggerSection extends Component {\r\n  static getStores() {\r\n    return [LoggerStore];\r\n  }\r\n\r\n  static calculateState() {\r\n    const isOpen = LoggerStore.isOpen();\r\n    if (!isOpen) {\r\n      return { isOpen: false };\r\n    }\r\n\r\n    const logs = LoggerStore.getLogs();\r\n    return {\r\n      isOpen,\r\n      logs,\r\n      length: logs.length\r\n    };\r\n  }\r\n\r\n  onClose() {\r\n    loggerToggle();\r\n  }\r\n\r\n  renderLogs() {\r\n    const result = [];\r\n\r\n    const { logs } = this.state;\r\n    for (let i = logs.length - 1; i >= 0; i--) {\r\n      result.push(\r\n        <LoggerRow data={logs[i]} key={i} />\r\n      );\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isOpen) {\r\n      return <section className=\"activity logger\" />;\r\n    }\r\n\r\n    return (\r\n      <section className=\"activity logger activity--shown\">\r\n        <div className=\"activity__body logger__body\">\r\n          <div className=\"logger__controls\">\r\n            <button className=\"button button--icon\" type=\"button\" onClick={this.onClose}>\r\n              <i className=\"material-icons\">close</i>\r\n            </button>\r\n          </div>\r\n          <LoggerFilter />\r\n          <Scrollbar>\r\n            <div className=\"logger__container\">\r\n              {this.renderLogs()}\r\n            </div>\r\n          </Scrollbar>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container.create(LoggerSection);\r\n"]}