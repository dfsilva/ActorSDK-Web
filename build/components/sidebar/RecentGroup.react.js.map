{"version":3,"sources":["../../../src/components/sidebar/RecentGroup.react.js"],"names":["RecentGroup","props","shouldComponentUpdate","bind","renderPlusButton","group","onPlusClick","renderGroupTitle","onTitleClick","titleMessage","tooltipMessage","renderGroupList","items","archive","currentPeer","onItemUpdate","length","renderEmptyHint","map","dialog","peer","peerKey","peerToString","isActive","equals","render","propTypes","string","isRequired","array","object","func"],"mappings":"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","file":"RecentGroup.react.js","sourcesContent":["/*\r\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport Tooltip from 'rc-tooltip';\r\nimport PeerUtils from '../../utils/PeerUtils';\r\nimport RecentItem from './RecentItem.react';\r\n\r\nclass RecentGroup extends Component {\r\n  static propTypes = {\r\n    group: PropTypes.string.isRequired,\r\n    items: PropTypes.array.isRequired,\r\n    archive: PropTypes.object.isRequired,\r\n    currentPeer: PropTypes.object,\r\n    onTitleClick: PropTypes.func,\r\n    onPlusClick: PropTypes.func,\r\n    onItemUpdate: PropTypes.func.isRequired,\r\n    renderEmptyHint: PropTypes.func\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\r\n  }\r\n\r\n  renderPlusButton() {\r\n    const { group, onPlusClick } = this.props;\r\n    if (!onPlusClick) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Tooltip\r\n        placement=\"top\"\r\n        mouseEnterDelay={0.15}\r\n        mouseLeaveDelay={0}\r\n        overlay={<FormattedMessage id={`tooltip.recent.${group}Create`}/>}>\r\n        <i className=\"recent__group__plus-button material-icons pull-right\" onClick={onPlusClick}>\r\n          add_circle_outline\r\n        </i>\r\n      </Tooltip>\r\n    );\r\n  }\r\n\r\n  renderGroupTitle() {\r\n    const { group, onTitleClick } = this.props;\r\n\r\n    const titleMessage = <FormattedMessage id={`sidebar.recents.${group}`} />;\r\n    if (!onTitleClick) {\r\n      return (\r\n        <div className=\"recent__group__header\">\r\n          <div className=\"recent__group__title\">\r\n            {titleMessage}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const tooltipMessage = <FormattedMessage id={`tooltip.recent.${group}List`}/>;\r\n\r\n    return (\r\n      <div className=\"recent__group__header\">\r\n        <div className=\"recent__group__title recent__group__title--clickable\" onClick={onTitleClick}>\r\n          <Tooltip\r\n            placement=\"right\"\r\n            mouseEnterDelay={0.15}\r\n            mouseLeaveDelay={0}\r\n            overlay={tooltipMessage}\r\n          >\r\n            {titleMessage}\r\n          </Tooltip>\r\n        </div>\r\n        {this.renderPlusButton()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderGroupList() {\r\n    const { items, archive, currentPeer, onItemUpdate } = this.props;\r\n    if (!items.length) {\r\n      if (this.props.renderEmptyHint) {\r\n        return this.props.renderEmptyHint();\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    return items.map((dialog) => {\r\n      const peer = dialog.peer.peer;\r\n      const peerKey = PeerUtils.peerToString(peer);\r\n      const isActive = PeerUtils.equals(peer, currentPeer);\r\n\r\n      return (\r\n        <RecentItem\r\n          dialog={dialog}\r\n          archiveState={archive[peerKey]}\r\n          isActive={isActive}\r\n          onUpdate={onItemUpdate}\r\n          key={peerKey}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"recent__group\">\r\n        {this.renderGroupTitle()}\r\n        {this.renderGroupList()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RecentGroup;\r\n"]}