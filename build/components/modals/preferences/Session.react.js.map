{"version":3,"sources":["../../../../src/components/modals/preferences/Session.react.js"],"names":["SessionItem","props","handleTerminateSession","bind","terminateSession","id","renderTitle","appTitle","renderCurrentDeviceMark","holder","renderAuthTime","authTime","toString","renderState","terminateState","render","propTypes","string","isRequired","number","object","oneOf","PENDING","PROCESSING","SUCCESS","FAILURE"],"mappings":";;;;AAIA;;;;AACA;;AACA;;AAEA;;;;AAEA;;;;;;;;;;+eAVA;;;;IAYMA,W;;;AAcJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,sBAAL,GAA8B,MAAKA,sBAAL,CAA4BC,IAA5B,OAA9B;AAHiB;AAIlB;;wBAEDD,sB,qCAAyB;AACvB,wCAA0BE,gBAA1B,CAA2C,KAAKH,KAAL,CAAWI,EAAtD;AACD,G;;wBAEDC,W,0BAAc;AAAA,QACJC,QADI,GACS,KAAKN,KADd,CACJM,QADI;;;AAGZ,WACE;AAAA;AAAA,QAAK,WAAU,OAAf;AACGA,cADH;AAEG,WAAKC,uBAAL;AAFH,KADF;AAMD,G;;wBAEDA,uB,sCAA0B;AAAA,QAChBC,MADgB,GACL,KAAKR,KADA,CAChBQ,MADgB;;AAExB,QAAIA,WAAW,aAAf,EAA8B,OAAO,IAAP;;AAE9B,WACE,6DAAkB,IAAG,uCAArB,EAA6D,SAAQ,OAArE,GADF;AAGD,G;;wBAEDC,c,6BAAiB;AAAA,QACPC,QADO,GACM,KAAKV,KADX,CACPU,QADO;;;AAGf,WACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAG,qEAAkB,IAAG,wCAArB,GAAH;AAAA;AAAA,OADF;AAAA;AAC2EA,eAASC,QAAT;AAD3E,KADF;AAKD,G;;wBAEDC,W,0BAAc;AAAA,QACJC,cADI,GACe,KAAKb,KADpB,CACJa,cADI;;;AAGZ,WACE;AACE,oBAAcA,cADhB;AAEE,eACE;AAAA;AAAA,UAAG,WAAU,6CAAb,EAA2D,SAAS,KAAKZ,sBAAzE;AACE,qEAAkB,IAAG,yCAArB;AADF,OAHJ;AAOE,kBACE;AAAA;AAAA,UAAG,WAAU,sDAAb;AAAA;AAAA,OARJ;AAUE,eACE;AAAA;AAAA,UAAG,WAAU,iDAAb;AAAA;AAAA,OAXJ;AAaE,eACE;AAAA;AAAA,UAAG,WAAU,iDAAb;AAAA;AAAA;AAdJ,MADF;AAmBD,G;;wBAEDa,M,qBAAS;AACP,WACE;AAAA;AAAA,QAAI,WAAU,uBAAd;AACG,WAAKT,WAAL,EADH;AAEG,WAAKI,cAAL,EAFH;AAGG,WAAKG,WAAL;AAHH,KADF;AAOD,G;;;;;AAtFGb,W,CACGgB,S,GAAY;AACjBT,YAAU,iBAAUU,MAAV,CAAiBC,UADV;AAEjBT,UAAQ,iBAAUQ,MAAV,CAAiBC,UAFR;AAGjBb,MAAI,iBAAUc,MAAV,CAAiBD,UAHJ;AAIjBP,YAAU,iBAAUS,MAAV,CAAiBF,UAJV;AAKjBJ,kBAAgB,iBAAUO,KAAV,CAAgB,CAC9B,qCAAkBC,OADY,EAE9B,qCAAkBC,UAFY,EAG9B,qCAAkBC,OAHY,EAI9B,qCAAkBC,OAJY,CAAhB,EAKbP;AAVc,C;kBAwFNlB,W","file":"Session.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { AsyncActionStates } from '../../../constants/ActorAppConstants';\r\n\r\nimport PreferencesActionCreators from '../../../actions/PreferencesActionCreators';\r\n\r\nimport Stateful from '../../common/Stateful.react';\r\n\r\nclass SessionItem extends Component {\r\n  static propTypes = {\r\n    appTitle: PropTypes.string.isRequired,\r\n    holder: PropTypes.string.isRequired,\r\n    id: PropTypes.number.isRequired,\r\n    authTime: PropTypes.object.isRequired,\r\n    terminateState: PropTypes.oneOf([\r\n      AsyncActionStates.PENDING,\r\n      AsyncActionStates.PROCESSING,\r\n      AsyncActionStates.SUCCESS,\r\n      AsyncActionStates.FAILURE\r\n    ]).isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleTerminateSession = this.handleTerminateSession.bind(this);\r\n  }\r\n\r\n  handleTerminateSession() {\r\n    PreferencesActionCreators.terminateSession(this.props.id);\r\n  }\r\n\r\n  renderTitle() {\r\n    const { appTitle } = this.props;\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        {appTitle}\r\n        {this.renderCurrentDeviceMark()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderCurrentDeviceMark() {\r\n    const { holder } = this.props;\r\n    if (holder !== 'THIS_DEVICE') return null;\r\n\r\n    return (\r\n      <FormattedMessage id=\"preferences.security.sessions.current\" tagName=\"small\"/>\r\n    );\r\n  }\r\n\r\n  renderAuthTime() {\r\n    const { authTime } = this.props;\r\n\r\n    return (\r\n      <small>\r\n        <b><FormattedMessage id=\"preferences.security.sessions.authTime\"/>:</b> {authTime.toString()}\r\n      </small>\r\n    );\r\n  }\r\n\r\n  renderState() {\r\n    const { terminateState } = this.props;\r\n\r\n    return (\r\n      <Stateful\r\n        currentState={terminateState}\r\n        pending={\r\n          <a className=\"session-list__session__terminate link--blue\" onClick={this.handleTerminateSession}>\r\n            <FormattedMessage id=\"preferences.security.sessions.terminate\"/>\r\n          </a>\r\n        }\r\n        processing={\r\n          <i className=\"session-list__session__terminate material-icons spin\">autorenew</i>\r\n        }\r\n        success={\r\n          <i className=\"session-list__session__terminate material-icons\">check</i>\r\n        }\r\n        failure={\r\n          <i className=\"session-list__session__terminate material-icons\">warning</i>\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <li className=\"session-list__session\">\r\n        {this.renderTitle()}\r\n        {this.renderAuthTime()}\r\n        {this.renderState()}\r\n      </li>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SessionItem;\r\n"]}