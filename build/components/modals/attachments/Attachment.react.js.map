{"version":3,"sources":["../../../../src/components/modals/attachments/Attachment.react.js"],"names":["Attachment","props","handleChangeSendAsPicture","bind","sendAsPicture","attachment","changeAttachment","renderPreview","isImage","window","URL","createObjectURL","file","renderName","name","renderType","type","renderSize","size","renderOptions","render","paddingLeft","propTypes","object","isRequired"],"mappings":"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","file":"Attachment.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nimport humanFileSize from '../../../utils/humanFileSize';\r\n\r\nimport AttachmentsActionCreators from '../../../actions/AttachmentsActionCreators';\r\n\r\nclass Attachment extends Component {\r\n  static propTypes = {\r\n    attachment: PropTypes.object.isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChangeSendAsPicture = this.handleChangeSendAsPicture.bind(this);\r\n   }\r\n\r\n  handleChangeSendAsPicture() {\r\n    const { sendAsPicture } = this.props.attachment;\r\n    AttachmentsActionCreators.changeAttachment(!sendAsPicture);\r\n  }\r\n\r\n  renderPreview() {\r\n    const { attachment } = this.props;\r\n    if (!attachment.isImage) return null;\r\n\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <img src={window.URL.createObjectURL(attachment.file)}/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderName() {\r\n    const { attachment } = this.props;\r\n\r\n    return (\r\n      <div className=\"attachment__meta attachment__meta--name\">\r\n        <div className=\"attachment__meta__title\"><FormattedMessage id=\"modal.attachments.name\"/></div>\r\n        <div className=\"attachment__meta__content\">{attachment.file.name}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderType() {\r\n    const { attachment } = this.props;\r\n\r\n    return (\r\n      <div className=\"attachment__meta attachment__meta--type\">\r\n        <div className=\"attachment__meta__title\"><FormattedMessage id=\"modal.attachments.type\"/></div>\r\n        <div className=\"attachment__meta__content\">{attachment.file.type}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSize() {\r\n    const { attachment } = this.props;\r\n\r\n    return (\r\n      <div className=\"attachment__meta attachment__meta--size\">\r\n        <div className=\"attachment__meta__title\"><FormattedMessage id=\"modal.attachments.size\"/></div>\r\n        <div className=\"attachment__meta__content\">{humanFileSize(attachment.file.size, true)}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderOptions() {\r\n    const { attachment } = this.props;\r\n    if (!attachment.isImage) return null;\r\n\r\n    return (\r\n      <div className=\"attachment__extra\">\r\n        <div className=\"attachment__extra__title\">\r\n        <FormattedMessage id=\"modal.attachments.extra\"/></div>\r\n        <div className=\"attachment__extra__switcher\">\r\n          <label htmlFor=\"sendAsPicture\" className=\"switch-label\"><FormattedMessage id=\"modal.attachments.sendAsPicture\"/></label>\r\n          <div className=\"switch pull-right\">\r\n            <input\r\n              checked={attachment.sendAsPicture}\r\n              id=\"sendAsPicture\"\r\n              onChange={this.handleChangeSendAsPicture}\r\n              type=\"checkbox\"/>\r\n            <label htmlFor=\"sendAsPicture\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"attachment row\">\r\n\r\n        <div className=\"attachment__preview col-xs-5\">\r\n          {this.renderPreview()}\r\n        </div>\r\n\r\n        <div className=\"col-xs-7\" style={{ paddingLeft: 16 }}>\r\n\r\n          {this.renderName()}\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-xs\">\r\n              {this.renderType()}\r\n            </div>\r\n            <div className=\"col-xs\">\r\n              {this.renderSize()}\r\n            </div>\r\n          </div>\r\n\r\n          {this.renderOptions()}\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Attachment;\r\n"]}