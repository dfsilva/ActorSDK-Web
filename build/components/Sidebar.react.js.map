{"version":3,"sources":["../../src/components/Sidebar.react.js"],"names":["Sidebar","getStores","calculateState","currentPeer","getCurrentPeer","dialogs","getDialogs","archive","getArchiveChatState","props","components","getComponents","get","sidebar","Recent","recent","render","state","create","pure"],"mappings":";;;;AAIA;;AACA;;;;AACA;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;;;;;;;+eAZA;;;;IAcMA,O;;;UACGC,S,wBAAY;AACjB,WAAO,+CAAP;AACD,G;;UAEMC,c,6BAAiB;AACtB,WAAO;AACLC,mBAAa,sBAAYC,cAAZ,EADR;AAELC,eAAS,sBAAYC,UAAZ,EAFJ;AAGLC,eAAS,uBAAaC,mBAAb;AAHJ,KAAP;AAKD,G;;AAED,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,UAAL,GAAkB,MAAKC,aAAL,EAAlB;AAHiB;AAIlB;;oBAEDA,a,4BAAgB;AAAA,gCACS,4BAAkBC,GAAlB,EADT;AAAA,QACNF,UADM,yBACNA,UADM;;AAEd,QAAMG,UAAUH,WAAWG,OAA3B;;AAEA,QAAIA,OAAJ,EAAa;AACX,aAAO;AACLC,gBAAQ,wBAAWD,QAAQE,MAAnB,IAA6BF,QAAQE,MAArC;AADH,OAAP;AAGD;;AAED,WAAO;AACLD;AADK,KAAP;AAGD,G;;oBAGDE,M,qBAAS;AAAA,iBACmC,KAAKC,KADxC;AAAA,QACCd,WADD,UACCA,WADD;AAAA,QACcE,OADd,UACcA,OADd;AAAA,QACuBE,OADvB,UACuBA,OADvB;AAAA,QAECO,MAFD,GAEY,KAAKJ,UAFjB,CAECI,MAFD;;;AAIP,WACE;AAAA;AAAA,QAAO,WAAU,SAAjB;AACE,oCAAC,MAAD;AACE,qBAAaX,WADf;AAEE,iBAASE,OAFX;AAGE,iBAASE;AAHX;AADF,KADF;AASD,G;;;;;kBAGY,iBAAUW,MAAV,CAAiBlB,OAAjB,EAA0B,EAAEmB,MAAM,KAAR,EAA1B,C","file":"Sidebar.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { isFunction } from 'lodash';\nimport React, { Component } from 'react';\nimport { Container } from 'flux/utils';\nimport DelegateContainer from '../utils/DelegateContainer';\n\nimport DefaultRecent from './sidebar/Recent.react';\n\nimport DialogStore from '../stores/DialogStore';\nimport ArchiveStore from '../stores/ArchiveStore';\n\nclass Sidebar extends Component {\n  static getStores() {\n    return [DialogStore, ArchiveStore];\n  }\n\n  static calculateState() {\n    return {\n      currentPeer: DialogStore.getCurrentPeer(),\n      dialogs: DialogStore.getDialogs(),\n      archive: ArchiveStore.getArchiveChatState()\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.components = this.getComponents();\n  }\n\n  getComponents() {\n    const { components } = DelegateContainer.get();\n    const sidebar = components.sidebar;\n\n    if (sidebar) {\n      return {\n        Recent: isFunction(sidebar.recent) ? sidebar.recent : DefaultRecent\n      };\n    }\n\n    return {\n      Recent: DefaultRecent\n    };\n  }\n\n\n  render() {\n    const { currentPeer, dialogs, archive } = this.state;\n    const { Recent } = this.components;\n\n    return (\n      <aside className=\"sidebar\">\n        <Recent\n          currentPeer={currentPeer}\n          dialogs={dialogs}\n          archive={archive}\n        />\n      </aside>\n    );\n  }\n}\n\nexport default Container.create(Sidebar, { pure: false });\n"]}