{"version":3,"sources":["../../src/components/Sidebar.react.js"],"names":["Sidebar","getStores","calculateState","currentPeer","getCurrentPeer","dialogs","getDialogs","archive","getArchiveChatState","props","components","getComponents","get","sidebar","Recent","recent","render","state","create","pure"],"mappings":";;;;AAIA;;AACA;;;;AACA;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;;;;;+eAXA;;;;IAaMA,O;;;UACGC,S,wBAAY;AACjB,WAAO,+CAAP;AACD,G;;UAEMC,c,6BAAiB;AACtB,WAAO;AACLC,mBAAa,sBAAYC,cAAZ,EADR;AAELC,eAAS,sBAAYC,UAAZ,EAFJ;AAGLC,eAAS,uBAAaC,mBAAb;AAHJ,KAAP;AAKD,G;;AAED,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,UAAL,GAAkB,MAAKC,aAAL,EAAlB;AAHiB;AAIlB;;oBAEDA,a,4BAAgB;AAAA,gCACS,4BAAkBC,GAAlB,EADT;AAAA,QACNF,UADM,yBACNA,UADM;;AAEd,QAAMG,UAAUH,WAAWG,OAA3B;;AAEA,QAAIA,OAAJ,EAAa;AACX,aAAO;AACLC,gBAAQ,wBAAWD,QAAQE,MAAnB,IAA6BF,QAAQE,MAArC;AADH,OAAP;AAGD;;AAED,WAAO;AACLD;AADK,KAAP;AAGD,G;;oBAGDE,M,qBAAS;AAAA,iBACmC,KAAKC,KADxC;AAAA,QACCd,WADD,UACCA,WADD;AAAA,QACcE,OADd,UACcA,OADd;AAAA,QACuBE,OADvB,UACuBA,OADvB;AAAA,QAECO,MAFD,GAEY,KAAKJ,UAFjB,CAECI,MAFD;;;AAIP,WACE;AAAA;AAAA,QAAO,WAAU,SAAjB;AACE,oCAAC,MAAD;AACE,qBAAaX,WADf;AAEE,iBAASE,OAFX;AAGE,iBAASE;AAHX;AADF,KADF;AASD,G;;;;;kBAGY,iBAAUW,MAAV,CAAiBlB,OAAjB,EAA0B,EAAEmB,MAAM,KAAR,EAA1B,C","file":"Sidebar.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport { isFunction } from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Container } from 'flux/utils';\r\nimport DelegateContainer from '../utils/DelegateContainer';\r\n\r\nimport DefaultRecent from './sidebar/Recent.react';\r\nimport DialogStore from '../stores/DialogStore';\r\nimport ArchiveStore from '../stores/ArchiveStore';\r\n\r\nclass Sidebar extends Component {\r\n  static getStores() {\r\n    return [DialogStore, ArchiveStore];\r\n  }\r\n\r\n  static calculateState() {\r\n    return {\r\n      currentPeer: DialogStore.getCurrentPeer(),\r\n      dialogs: DialogStore.getDialogs(),\r\n      archive: ArchiveStore.getArchiveChatState()\r\n    };\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.components = this.getComponents();\r\n  }\r\n\r\n  getComponents() {\r\n    const { components } = DelegateContainer.get();\r\n    const sidebar = components.sidebar;\r\n\r\n    if (sidebar) {\r\n      return {\r\n        Recent: isFunction(sidebar.recent) ? sidebar.recent : DefaultRecent\r\n      };\r\n    }\r\n\r\n    return {\r\n      Recent: DefaultRecent\r\n    };\r\n  }\r\n\r\n\r\n  render() {\r\n    const { currentPeer, dialogs, archive } = this.state;\r\n    const { Recent } = this.components;\r\n\r\n    return (\r\n      <aside className=\"sidebar\">\r\n        <Recent\r\n          currentPeer={currentPeer}\r\n          dialogs={dialogs}\r\n          archive={archive}\r\n        />\r\n      </aside>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container.create(Sidebar, { pure: false });\r\n"]}