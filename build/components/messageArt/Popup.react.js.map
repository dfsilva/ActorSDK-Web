{"version":3,"sources":["../../../src/components/messageArt/Popup.react.js"],"names":["Popup","props","state","currentState","EMOJI","handleKeyDown","bind","shouldComponentUpdate","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","event","keyCode","ESC","preventDefault","onClose","handleTabClick","setState","renderBody","onSelect","STICKER","stickers","onStickerSelect","renderFooter","emojiTabClassName","stickerTabClassName","render","onMouseEnter","onMouseLeave","propTypes","className","string","array","isRequired","func"],"mappings":"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","file":"Popup.react.js","sourcesContent":["/*\r\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\r\nimport classnames from 'classnames';\r\n\r\nimport { KeyCodes, MessageArtPopupState } from '../../constants/ActorAppConstants';\r\n\r\nimport Emojis from './Emojis.react';\r\nimport Stickers from './Stickers.react';\r\n\r\nclass Popup extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    stickers: PropTypes.array.isRequired,\r\n    onSelect: PropTypes.func.isRequired,\r\n    onStickerSelect: PropTypes.func.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onMouseEnter: PropTypes.func.isRequired,\r\n    onMouseLeave: PropTypes.func.isRequired\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentState: MessageArtPopupState.EMOJI\r\n    };\r\n\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.handleKeyDown, false);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.handleKeyDown, false);\r\n  }\r\n\r\n  handleKeyDown(event) {\r\n    if (event.keyCode === KeyCodes.ESC) {\r\n      event.preventDefault();\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  handleTabClick(state) {\r\n    this.setState({ currentState: state })\r\n  }\r\n\r\n  renderBody() {\r\n    const { currentState } = this.state;\r\n\r\n    switch (currentState) {\r\n      case MessageArtPopupState.EMOJI:\r\n        return (\r\n          <Emojis onSelect={this.props.onSelect}/>\r\n        );\r\n      case MessageArtPopupState.STICKER:\r\n        return (\r\n          <Stickers\r\n            stickers={this.props.stickers}\r\n            onStickerSelect={this.props.onStickerSelect}\r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  renderFooter() {\r\n    const { currentState } = this.state;\r\n\r\n    const emojiTabClassName = classnames('tab', {\r\n      'tab--active': currentState === MessageArtPopupState.EMOJI\r\n    });\r\n    const stickerTabClassName = classnames('tab', {\r\n      'tab--active': currentState === MessageArtPopupState.STICKER\r\n    });\r\n\r\n    return (\r\n      <footer className=\"message-art__popup__footer\">\r\n        <div className={emojiTabClassName}\r\n             onClick={() => this.handleTabClick(MessageArtPopupState.EMOJI)}>\r\n          Emojis\r\n        </div>\r\n        <div className={stickerTabClassName}\r\n             onClick={() => this.handleTabClick(MessageArtPopupState.STICKER)}>\r\n          Stickers\r\n        </div>\r\n      </footer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { onMouseEnter, onMouseLeave } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className=\"message-art__popup\"\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n      >\r\n        <div className=\"message-art__popup__body\">\r\n          {this.renderBody()}\r\n        </div>\r\n\r\n        {this.renderFooter()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Popup;\r\n"]}