{"version":3,"sources":["../../../src/components/messageArt/MessageArt.react.js"],"names":["MessageArt","props","onMouseLeave","bind","onMouseEnter","shouldComponentUpdate","openTimeout","clearTimeout","closeTimeout","setTimeout","onClose","isActive","onOpen","renderPopup","stickers","onSelect","onStickerSelect","render","propTypes","bool","isRequired","array","func","defaultProps","open","close"],"mappings":";;;;AAIA;;;;AACA;;AAEA;;;;AAEA;;;;AACA;;;;;;;;;;+eAVA;;;;IAYMA,U;;;AAeJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,OAApB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,OAApB;AACA,UAAKE,qBAAL,GAA6B,kDAAsBF,IAAtB,OAA7B;AALiB;AAMlB;;uBAEDD,Y,2BAAe;AACb,QAAI,KAAKI,WAAT,EAAsB;AACpBC,mBAAa,KAAKD,WAAlB;AACA,WAAKA,WAAL,GAAmB,KAAnB;AACD;;AAED,SAAKE,YAAL,GAAoBC,WAAW,KAAKR,KAAL,CAAWS,OAAtB,EAA+B,GAA/B,CAApB;AACD,G;;uBAEDN,Y,2BAAe;AACb,QAAI,KAAKI,YAAT,EAAuB;AACrBD,mBAAa,KAAKC,YAAlB;AACA,WAAKA,YAAL,GAAoB,KAApB;AACD;;AAED,QAAI,CAAC,KAAKP,KAAL,CAAWU,QAAhB,EAA0B;AACxB,WAAKL,WAAL,GAAmBG,WAAW,KAAKR,KAAL,CAAWW,MAAtB,EAA8B,EAA9B,CAAnB;AACD;AACF,G;;uBAEDC,W,0BAAc;AAAA,iBACuD,KAAKZ,KAD5D;AAAA,QACJU,QADI,UACJA,QADI;AAAA,QACMG,QADN,UACMA,QADN;AAAA,QACgBC,QADhB,UACgBA,QADhB;AAAA,QAC0BC,eAD1B,UAC0BA,eAD1B;AAAA,QAC2CN,OAD3C,UAC2CA,OAD3C;;AAEZ,QAAI,CAACC,QAAL,EAAe,OAAO,IAAP;;AAEf,WACE;AACE,gBAAUI,QADZ;AAEE,eAASL,OAFX;AAGE,gBAAUI,QAHZ;AAIE,uBAAiBE,eAJnB;AAKE,oBAAc,KAAKZ,YALrB;AAME,oBAAc,KAAKF;AANrB,MADF;AAUD,G;;uBAEDe,M,qBAAS;AAAA,QACCN,QADD,GACc,KAAKV,KADnB,CACCU,QADD;;;AAGP,WACE;AAAA;AAAA,QAAK,WAAU,aAAf;AACE;AAAA;AAAA;AACE,wBAAc,KAAKP,YADrB;AAEE,wBAAc,KAAKF,YAFrB;AAGE,oBAAUS,QAHZ;AAIE,wBAAc;AAJhB;AAME;AAAA;AAAA,YAAG,WAAU,gBAAb;AAAA;AAAA;AANF,OADF;AASG,WAAKE,WAAL;AATH,KADF;AAaD,G;;;;;AA3EGb,U,CACGkB,S,GAAY;AACjBP,YAAU,iBAAUQ,IAAV,CAAeC,UADR;AAEjBN,YAAU,iBAAUO,KAAV,CAAgBD,UAFT;AAGjBR,UAAQ,iBAAUU,IAAV,CAAeF,UAHN;AAIjBV,WAAS,iBAAUY,IAAV,CAAeF,UAJP;AAKjBL,YAAU,iBAAUO,IAAV,CAAeF,UALR;AAMjBJ,mBAAiB,iBAAUM,IAAV,CAAeF;AANf,C;AADfpB,U,CAUGuB,Y,GAAe;AACpBX,UAAQ,mCAAyBY,IADb;AAEpBd,WAAS,mCAAyBe;AAFd,C;kBAoETzB,U","file":"MessageArt.react.js","sourcesContent":["/*\r\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\r\n\r\nimport MessageArtActionCreators from '../../actions/MessageArtActionCreators';\r\n\r\nimport Trigger from './Trigger.react';\r\nimport Popup from './Popup.react';\r\n\r\nclass MessageArt extends Component {\r\n  static propTypes = {\r\n    isActive: PropTypes.bool.isRequired,\r\n    stickers: PropTypes.array.isRequired,\r\n    onOpen: PropTypes.func.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onSelect: PropTypes.func.isRequired,\r\n    onStickerSelect: PropTypes.func.isRequired\r\n  }\r\n\r\n  static defaultProps = {\r\n    onOpen: MessageArtActionCreators.open,\r\n    onClose: MessageArtActionCreators.close\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onMouseLeave = this.onMouseLeave.bind(this);\r\n    this.onMouseEnter = this.onMouseEnter.bind(this);\r\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\r\n  }\r\n\r\n  onMouseLeave() {\r\n    if (this.openTimeout) {\r\n      clearTimeout(this.openTimeout);\r\n      this.openTimeout = false;\r\n    }\r\n\r\n    this.closeTimeout = setTimeout(this.props.onClose, 300);\r\n  }\r\n\r\n  onMouseEnter() {\r\n    if (this.closeTimeout) {\r\n      clearTimeout(this.closeTimeout);\r\n      this.closeTimeout = false;\r\n    }\r\n\r\n    if (!this.props.isActive) {\r\n      this.openTimeout = setTimeout(this.props.onOpen, 60);\r\n    }\r\n  }\r\n\r\n  renderPopup() {\r\n    const { isActive, stickers, onSelect, onStickerSelect, onClose } = this.props;\r\n    if (!isActive) return null;\r\n\r\n    return (\r\n      <Popup\r\n        onSelect={onSelect}\r\n        onClose={onClose}\r\n        stickers={stickers}\r\n        onStickerSelect={onStickerSelect}\r\n        onMouseEnter={this.onMouseEnter}\r\n        onMouseLeave={this.onMouseLeave}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { isActive } = this.props;\r\n\r\n    return (\r\n      <div className=\"message-art\">\r\n        <Trigger\r\n          onMouseEnter={this.onMouseEnter}\r\n          onMouseLeave={this.onMouseLeave}\r\n          isActive={isActive}\r\n          isDotVisible={false}\r\n        >\r\n          <i className=\"material-icons\">insert_emoticon</i>\r\n        </Trigger>\r\n        {this.renderPopup()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MessageArt;\r\n"]}