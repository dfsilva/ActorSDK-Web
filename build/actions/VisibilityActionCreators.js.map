{"version":3,"sources":["../../src/actions/VisibilityActionCreators.js"],"names":["VisibilityActionCreators","createAppVisible","APP_VISIBLE","onAppVisible","setBindings","bindConnectState","setState","createAppHidden","APP_HIDDEN","currentPeer","getCurrentPeer","saveDraft","onAppHidden","removeBindings"],"mappings":";;;;AAIA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;+eAVA;;;;IAYMA,wB;;;;;;;;;qCACJC,gB,+BAAmB;AACjB,sCAAS,+BAAYC,WAArB;AACA,0BAAYC,YAAZ;AACA,SAAKC,WAAL,CAAiB,SAAjB,EAA4B,CAC1B,sBAAYC,gBAAZ,CAA6B,wCAA8BC,QAA3D,CAD0B,CAA5B;AAGD,G;;qCAEDC,e,8BAAkB;AAChB,sCAAS,+BAAYC,UAArB;;AAEA,QAAMC,cAAc,sBAAYC,cAAZ,EAApB;AACA,kCAAoBC,SAApB,CAA8BF,WAA9B;;AAEA,0BAAYG,WAAZ;AACA,SAAKC,cAAL,CAAoB,SAApB;AACD,G;;;;;kBAGY,IAAIb,wBAAJ,E","file":"VisibilityActionCreators.js","sourcesContent":["/*\r\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport { dispatch } from '../dispatcher/ActorAppDispatcher';\r\nimport { ActionTypes } from '../constants/ActorAppConstants';\r\nimport ActionCreators from './ActionCreators';\r\nimport ConnectionStateActionCreators from '../actions/ConnectionStateActionCreators';\r\nimport DraftActionCreators from '../actions/DraftActionCreators';\r\nimport ActorClient from '../utils/ActorClient';\r\nimport DialogStore from '../stores/DialogStore';\r\n\r\nclass VisibilityActionCreators extends ActionCreators {\r\n  createAppVisible() {\r\n    dispatch(ActionTypes.APP_VISIBLE);\r\n    ActorClient.onAppVisible();\r\n    this.setBindings('connect', [\r\n      ActorClient.bindConnectState(ConnectionStateActionCreators.setState)\r\n    ]);\r\n  }\r\n\r\n  createAppHidden() {\r\n    dispatch(ActionTypes.APP_HIDDEN);\r\n\r\n    const currentPeer = DialogStore.getCurrentPeer();\r\n    DraftActionCreators.saveDraft(currentPeer);\r\n\r\n    ActorClient.onAppHidden();\r\n    this.removeBindings('connect');\r\n  }\r\n}\r\n\r\nexport default new VisibilityActionCreators();\r\n"]}