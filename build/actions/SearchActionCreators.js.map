{"version":3,"sources":["../../src/actions/SearchActionCreators.js"],"names":["SearchActionCreators","focus","toggleAutoFocus","SEARCH_FOCUS","blur","SEARCH_BLUR","clear","SEARCH_CLEAR","goToMessagesSearch","query","open","setQuery","goToContact","contact","push","peerInfo","peer","key","handleSearch","SEARCH_SET_QUERY","updateResults","elements","getState","results","element","title","userName","SEARCH_SET_RESULTS"],"mappings":";;;;AAAA;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEMA,oB;;;;;iCACJC,K,oBAAQ;AACN,oCAAsBC,eAAtB,CAAsC,KAAtC;AACA,sCAAS,+BAAYC,YAArB;AACD,G;;iCAEDC,I,mBAAO;AACL,sCAAS,+BAAYC,WAArB;AACA,oCAAsBH,eAAtB,CAAsC,IAAtC;AACD,G;;iCAEDI,K,oBAAQ;AACN,sCAAS,+BAAYC,YAArB;AACA,oCAAsBL,eAAtB,CAAsC,IAAtC;AACD,G;;iCAEDM,kB,+BAAmBC,K,EAAO;AACxB,2CAA6BC,IAA7B;AACA,2CAA6BC,QAA7B,CAAsCF,KAAtC;AACA,sCAAS,+BAAYF,YAArB;AACD,G;;iCAEDK,W,wBAAYC,O,EAAS;AACnB,sCAAS,+BAAYN,YAArB;AACA,sBAAQO,IAAR,UAAoBD,QAAQE,QAAR,CAAiBC,IAAjB,CAAsBC,GAA1C;AACD,G;;iCAEDC,Y,yBAAaT,K,EAAO;AAClB,sCAAS,+BAAYU,gBAArB,EAAuC,EAAEV,YAAF,EAAvC;AACA,SAAKW,aAAL,CAAmBX,KAAnB;AACD,G;;iCAEDW,a,0BAAcX,K,EAAO;AACnB,QAAMY,WAAW,2BAAiBC,QAAjB,EAAjB;AACA,QAAMC,UAAU,yBAAOd,KAAP,EAAcY,QAAd,EAAwB,UAACG,OAAD,EAAa;AACnD,aAAO,CACLA,QAAQT,QAAR,CAAiBU,KADZ,EAELD,QAAQT,QAAR,CAAiBW,QAFZ,CAAP;AAID,KALe,CAAhB;;AAOA,sCAAS,+BAAYC,kBAArB,EAAyC,EAAEJ,gBAAF,EAAzC;AACD,G;;;;;kBAGY,IAAIvB,oBAAJ,E","file":"SearchActionCreators.js","sourcesContent":["import { dispatch } from '../dispatcher/ActorAppDispatcher';\r\nimport history from '../utils/history';\r\nimport { search } from '../utils/SearchUtils';\r\nimport { ActionTypes } from '../constants/ActorAppConstants';\r\nimport QuickSearchStore from '../stores/QuickSearchStore';\r\nimport ComposeActionCreators from './ComposeActionCreators';\r\nimport SearchMessagesActionCreators from './SearchMessagesActionCreators';\r\n\r\nclass SearchActionCreators {\r\n  focus() {\r\n    ComposeActionCreators.toggleAutoFocus(false);\r\n    dispatch(ActionTypes.SEARCH_FOCUS);\r\n  }\r\n\r\n  blur() {\r\n    dispatch(ActionTypes.SEARCH_BLUR);\r\n    ComposeActionCreators.toggleAutoFocus(true);\r\n  }\r\n\r\n  clear() {\r\n    dispatch(ActionTypes.SEARCH_CLEAR);\r\n    ComposeActionCreators.toggleAutoFocus(true);\r\n  }\r\n\r\n  goToMessagesSearch(query) {\r\n    SearchMessagesActionCreators.open();\r\n    SearchMessagesActionCreators.setQuery(query);\r\n    dispatch(ActionTypes.SEARCH_CLEAR);\r\n  }\r\n\r\n  goToContact(contact) {\r\n    dispatch(ActionTypes.SEARCH_CLEAR);\r\n    history.push(`/im/${contact.peerInfo.peer.key}`);\r\n  }\r\n\r\n  handleSearch(query) {\r\n    dispatch(ActionTypes.SEARCH_SET_QUERY, { query });\r\n    this.updateResults(query);\r\n  }\r\n\r\n  updateResults(query) {\r\n    const elements = QuickSearchStore.getState();\r\n    const results = search(query, elements, (element) => {\r\n      return [\r\n        element.peerInfo.title,\r\n        element.peerInfo.userName\r\n      ];\r\n    });\r\n\r\n    dispatch(ActionTypes.SEARCH_SET_RESULTS, { results });\r\n  }\r\n}\r\n\r\nexport default new SearchActionCreators();\r\n"]}