{"version":3,"sources":["../../src/actions/AddContactActionCreators.js"],"names":["open","CONTACT_ADD_MODAL_SHOW","toggleAutoFocus","close","CONTACT_ADD_MODAL_HIDE","findUsers","query","request","CONTACT_FIND","success","CONTACT_FIND_SUCCESS","failure","CONTACT_FIND_ERROR","addToContacts","uid","isContact","peer","getUserPeer","addContact","push","peerToString"],"mappings":";;;;AAIA;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe;AACbA,MADa,kBACN;AACL,sCAAS,+BAAYC,sBAArB;AACA,oCAAsBC,eAAtB,CAAsC,KAAtC;AACD,GAJY;AAMbC,OANa,mBAML;AACN,sCAAS,+BAAYC,sBAArB;AACA,oCAAsBF,eAAtB,CAAsC,IAAtC;AACD,GATY;AAWbG,WAXa,qBAWHC,KAXG,EAWI;AACf,2CAAc,sBAAYD,SAAZ,CAAsBC,KAAtB,CAAd,EAA4C;AAC1CC,eAAS,+BAAYC,YADqB;AAE1CC,eAAS,+BAAYC,oBAFqB;AAG1CC,eAAS,+BAAYC;AAHqB,KAA5C,EAIG,EAAEN,YAAF,EAJH;AAKD,GAjBY;AAmBbO,eAnBa,yBAmBCC,GAnBD,EAmBMC,SAnBN,EAmBiB;AAC5B,QAAMC,OAAO,sBAAYC,WAAZ,CAAwBH,GAAxB,CAAb;AACA,QAAI,CAACC,SAAL,EAAgB;AACd,sCAAsBG,UAAtB,CAAiCJ,GAAjC;AACD;AACD,sBAAQK,IAAR,UAAoB,oBAAUC,YAAV,CAAuBJ,IAAvB,CAApB;AACD;AAzBY,C,EAZf","file":"AddContactActionCreators.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\r\nimport ActorClient from '../utils/ActorClient';\r\nimport { ActionTypes } from '../constants/ActorAppConstants';\r\nimport ContactActionCreators from './ContactActionCreators';\r\nimport ComposeActionCreators from '../actions/ComposeActionCreators';\r\nimport history from '../utils/history';\r\nimport PeerUtils from '../utils/PeerUtils';\r\n\r\nexport default {\r\n  open() {\r\n    dispatch(ActionTypes.CONTACT_ADD_MODAL_SHOW);\r\n    ComposeActionCreators.toggleAutoFocus(false);\r\n  },\r\n\r\n  close() {\r\n    dispatch(ActionTypes.CONTACT_ADD_MODAL_HIDE);\r\n    ComposeActionCreators.toggleAutoFocus(true);\r\n  },\r\n\r\n  findUsers(query) {\r\n    dispatchAsync(ActorClient.findUsers(query), {\r\n      request: ActionTypes.CONTACT_FIND,\r\n      success: ActionTypes.CONTACT_FIND_SUCCESS,\r\n      failure: ActionTypes.CONTACT_FIND_ERROR\r\n    }, { query })\r\n  },\r\n\r\n  addToContacts(uid, isContact) {\r\n    const peer = ActorClient.getUserPeer(uid);\r\n    if (!isContact) {\r\n      ContactActionCreators.addContact(uid);\r\n    }\r\n    history.push(`/im/${PeerUtils.peerToString(peer)}`);\r\n  }\r\n};\r\n"]}