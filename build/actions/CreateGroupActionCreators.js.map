{"version":3,"sources":["../../src/actions/CreateGroupActionCreators.js"],"names":["CreateGroupActionCreators","open","GROUP_CREATE_MODAL_SHOW","toggleAutoFocus","close","GROUP_CREATE_MODAL_HIDE","setGroupName","name","GROUP_CREATE_SET_NAME","setSelectedUserIds","selectedUserIds","GROUP_CREATE_SET_MEMBERS","createGroup","title","avatar","memberIds","request","GROUP_CREATE","success","GROUP_CREATE_SUCCESS","failure","GROUP_CREATE_ERROR","openCreatedGroup","peer","push","peerToString","then"],"mappings":";;;;AAIA;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;;;AAVA;;;;AAYA,IAAMA,4BAA4B;AAChCC,MADgC,kBACzB;AACL,sCAAS,+BAAYC,uBAArB;AACA,oCAAsBC,eAAtB,CAAsC,KAAtC;AACD,GAJ+B;AAMhCC,OANgC,mBAMxB;AACN,sCAAS,+BAAYC,uBAArB;AACA,oCAAsBF,eAAtB,CAAsC,IAAtC;AACD,GAT+B;AAWhCG,cAXgC,wBAWnBC,IAXmB,EAWb;AACjB,sCAAS,+BAAYC,qBAArB,EAA4C,EAAED,UAAF,EAA5C;AACD,GAb+B;AAehCE,oBAfgC,8BAebC,eAfa,EAeI;AAClC,sCAAS,+BAAYC,wBAArB,EAA+C,EAAED,gCAAF,EAA/C;AACD,GAjB+B;AAmBhCE,aAnBgC,uBAmBpBC,KAnBoB,EAmBbC,MAnBa,EAmBLC,SAnBK,EAmBM;;AAEpC,QAAMH,cAAc,SAAdA,WAAc;AAAA,aAAM,uCAAc,sBAAYA,WAAZ,CAAwBC,KAAxB,EAA+BC,MAA/B,EAAuCC,SAAvC,CAAd,EAAiE;AACzFC,iBAAS,+BAAYC,YADoE;AAEzFC,iBAAS,+BAAYC,oBAFoE;AAGzFC,iBAAS,+BAAYC;AAHoE,OAAjE,EAIvB,EAAER,YAAF,EAASC,cAAT,EAAiBC,oBAAjB,EAJuB,CAAN;AAAA,KAApB;;AAMA,QAAMO,mBAAmB,SAAnBA,gBAAmB,CAACC,IAAD;AAAA,aAAU,kBAAQC,IAAR,UAAoB,oBAAUC,YAAV,CAAuBF,IAAvB,CAApB,CAAV;AAAA,KAAzB;;AAEAX,kBACGc,IADH,CACQJ,gBADR,EAEGI,IAFH,CAEQ,KAAKtB,KAFb;AAGD;AAhC+B,CAAlC;;kBAmCeJ,yB","file":"CreateGroupActionCreators.js","sourcesContent":["/*\r\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\r\nimport ActorClient from '../utils/ActorClient';\r\nimport history from '../utils/history';\r\nimport PeerUtils from '../utils/PeerUtils';\r\n\r\nimport { ActionTypes } from '../constants/ActorAppConstants';\r\nimport ComposeActionCreators from '../actions/ComposeActionCreators';\r\n\r\nconst CreateGroupActionCreators = {\r\n  open() {\r\n    dispatch(ActionTypes.GROUP_CREATE_MODAL_SHOW);\r\n    ComposeActionCreators.toggleAutoFocus(false);\r\n  },\r\n\r\n  close() {\r\n    dispatch(ActionTypes.GROUP_CREATE_MODAL_HIDE);\r\n    ComposeActionCreators.toggleAutoFocus(true);\r\n  },\r\n\r\n  setGroupName(name) {\r\n    dispatch(ActionTypes.GROUP_CREATE_SET_NAME, { name });\r\n  },\r\n\r\n  setSelectedUserIds(selectedUserIds) {\r\n    dispatch(ActionTypes.GROUP_CREATE_SET_MEMBERS, { selectedUserIds });\r\n  },\r\n\r\n  createGroup(title, avatar, memberIds) {\r\n\r\n    const createGroup = () => dispatchAsync(ActorClient.createGroup(title, avatar, memberIds), {\r\n      request: ActionTypes.GROUP_CREATE,\r\n      success: ActionTypes.GROUP_CREATE_SUCCESS,\r\n      failure: ActionTypes.GROUP_CREATE_ERROR\r\n    }, { title, avatar, memberIds });\r\n\r\n    const openCreatedGroup = (peer) => history.push(`/im/${PeerUtils.peerToString(peer)}`);\r\n\r\n    createGroup()\r\n      .then(openCreatedGroup)\r\n      .then(this.close)\r\n  }\r\n};\r\n\r\nexport default CreateGroupActionCreators;\r\n"]}