{"version":3,"sources":["../../src/utils/SearchUtils.js"],"names":["search","queryToRegExp","query","pattern","trim","replace","RegExp","items","getValues","filter","item","values","some","value","test"],"mappings":";;;QAYgBA,M,GAAAA,M;;AARhB;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,MAAMC,UAAU,MAAM,0BAAaD,MAAME,IAAN,EAAb,EAA2BC,OAA3B,CAAmC,MAAnC,EAA2C,QAA3C,CAAtB;;AAEA,SAAO,IAAIC,MAAJ,CAAWH,OAAX,EAAoB,GAApB,CAAP;AACD,C,CAVD;;;;AAYO,SAASH,MAAT,CAAgBE,KAAhB,EAAuBK,KAAvB,EAA8BC,SAA9B,EAAyC;AAC9C,MAAI,CAACN,KAAL,EAAY;AACV,WAAO,EAAP;AACD;;AAED,MAAMC,UAAUF,cAAcC,KAAd,CAAhB;AACA,SAAOK,MAAME,MAAN,CAAa,UAACC,IAAD,EAAU;AAC5B,QAAMC,SAASH,UAAUE,IAAV,CAAf;AACA,WAAOC,OAAOC,IAAP,CAAY,UAACC,KAAD;AAAA,aAAWV,QAAQW,IAAR,CAAaD,KAAb,CAAX;AAAA,KAAZ,CAAP;AACD,GAHM,CAAP;AAID","file":"SearchUtils.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport { escapeRegExp } from 'lodash';\r\n\r\nfunction queryToRegExp(query) {\r\n  const pattern = '^' + escapeRegExp(query.trim()).replace(/\\s+/g, '.*\\\\s+');\r\n\r\n  return new RegExp(pattern, 'i');\r\n}\r\n\r\nexport function search(query, items, getValues) {\r\n  if (!query) {\r\n    return [];\r\n  }\r\n\r\n  const pattern = queryToRegExp(query);\r\n  return items.filter((item) => {\r\n    const values = getValues(item);\r\n    return values.some((value) => pattern.test(value));\r\n  });\r\n}\r\n"]}